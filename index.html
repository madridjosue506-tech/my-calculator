<!-- This is a complete, self-contained HTML file for a web-based calculator. -->
<!-- It includes all the necessary HTML, CSS (using Tailwind CSS), and JavaScript. -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Calculator</title>
    <!-- Include Tailwind CSS from a CDN for easy styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom font for a clean look */
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">

    <!-- Calculator Container -->
    <div class="calculator bg-white p-6 rounded-2xl shadow-xl border border-gray-200 w-full max-w-sm">

        <!-- Display Area -->
        <input id="display" type="text" class="w-full text-4xl p-4 mb-4 text-right bg-gray-50 border border-gray-300 rounded-xl font-mono focus:outline-none" value="0" disabled />

        <!-- Buttons Grid -->
        <div class="grid grid-cols-4 gap-3">
            <!-- First Row -->
            <button class="btn clear-btn col-span-2 text-2xl p-4 bg-red-500 hover:bg-red-600 text-white rounded-xl shadow-lg transition-colors">AC</button>
            <button class="btn operator-btn text-2xl p-4 bg-gray-200 hover:bg-gray-300 rounded-xl transition-colors text-gray-700 font-bold">/</button>
            <button class="btn operator-btn text-2xl p-4 bg-gray-200 hover:bg-gray-300 rounded-xl transition-colors text-gray-700 font-bold">*</button>

            <!-- Second Row -->
            <button class="btn number-btn text-2xl p-4 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors text-gray-800">7</button>
            <button class="btn number-btn text-2xl p-4 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors text-gray-800">8</button>
            <button class="btn number-btn text-2xl p-4 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors text-gray-800">9</button>
            <button class="btn operator-btn text-2xl p-4 bg-gray-200 hover:bg-gray-300 rounded-xl transition-colors text-gray-700 font-bold">-</button>

            <!-- Third Row -->
            <button class="btn number-btn text-2xl p-4 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors text-gray-800">4</button>
            <button class="btn number-btn text-2xl p-4 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors text-gray-800">5</button>
            <button class="btn number-btn text-2xl p-4 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors text-gray-800">6</button>
            <button class="btn operator-btn text-2xl p-4 bg-gray-200 hover:bg-gray-300 rounded-xl transition-colors text-gray-700 font-bold">+</button>

            <!-- Fourth Row -->
            <button class="btn number-btn text-2xl p-4 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors text-gray-800">1</button>
            <button class="btn number-btn text-2xl p-4 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors text-gray-800">2</button>
            <button class="btn number-btn text-2xl p-4 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors text-gray-800">3</button>
            <button class="btn equals-btn row-span-2 text-2xl p-4 bg-green-500 hover:bg-green-600 text-white rounded-xl shadow-lg transition-colors">=</button>

            <!-- Fifth Row -->
            <button class="btn number-btn col-span-2 text-2xl p-4 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors text-gray-800">0</button>
            <button class="btn number-btn text-2xl p-4 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors text-gray-800">.</button>
        </div>

    </div>

    <!-- JavaScript for Calculator Logic -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const display = document.getElementById('display');
            const buttons = document.querySelectorAll('.btn');

            let currentInput = '';
            let firstOperand = null;
            let operator = null;
            let waitingForSecondOperand = false;

            // Function to reset the calculator state
            function resetCalculator() {
                currentInput = '';
                firstOperand = null;
                operator = null;
                waitingForSecondOperand = false;
                display.value = '0';
            }

            // Function to handle number button clicks
            function handleNumber(number) {
                if (waitingForSecondOperand) {
                    currentInput = number;
                    waitingForSecondOperand = false;
                } else {
                    // Prevent multiple decimal points
                    if (number === '.' && currentInput.includes('.')) {
                        return;
                    }
                    currentInput = currentInput === '0' && number !== '.' ? number : currentInput + number;
                }
                display.value = currentInput;
            }

            // Function to handle operator button clicks
            function handleOperator(nextOperator) {
                const inputValue = parseFloat(currentInput);

                if (operator && waitingForSecondOperand) {
                    operator = nextOperator;
                    return;
                }

                if (firstOperand === null) {
                    firstOperand = inputValue;
                } else if (operator) {
                    const result = performCalculation();
                    display.value = String(result);
                    firstOperand = result;
                }

                waitingForSecondOperand = true;
                operator = nextOperator;
            }

            // Function to perform the calculation
            function performCalculation() {
                const secondOperand = parseFloat(currentInput);
                switch (operator) {
                    case '+':
                        return firstOperand + secondOperand;
                    case '-':
                        return firstOperand - secondOperand;
                    case '*':
                        return firstOperand * secondOperand;
                    case '/':
                        return firstOperand / secondOperand;
                    default:
                        return secondOperand;
                }
            }

            // Add event listeners to all buttons
            buttons.forEach(button => {
                button.addEventListener('click', (event) => {
                    const { target } = event;
                    const buttonText = target.innerText;

                    if (target.classList.contains('number-btn') || buttonText === '.') {
                        handleNumber(buttonText);
                        return;
                    }

                    if (target.classList.contains('operator-btn')) {
                        handleOperator(buttonText);
                        return;
                    }

                    if (target.classList.contains('equals-btn')) {
                        if (operator && firstOperand !== null) {
                            currentInput = String(performCalculation());
                            display.value = currentInput;
                            firstOperand = parseFloat(currentInput);
                            operator = null;
                            waitingForSecondOperand = true;
                        }
                        return;
                    }

                    if (target.classList.contains('clear-btn')) {
                        resetCalculator();
                    }
                });
            });

            // Initial setup
            resetCalculator();
        });
    </script>
</body>
</html>
